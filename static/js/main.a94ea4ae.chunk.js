(this["webpackJsonppocket-friend"]=this["webpackJsonppocket-friend"]||[]).push([[0],{131:function(e,t,n){},136:function(e,t,n){e.exports=n(246)},141:function(e,t,n){},142:function(e,t,n){},170:function(e,t){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),i=(n(141),n(20)),s=n(38),u=n(40),l=n(39),d=n(41),m=(n(142),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"Pocket Friend"),r.a.createElement("p",{className:"lead"},"Your pocket's best friend! ",r.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude0a"))))}}]),t}(a.Component)),p=n(5),h=n.n(p),f=n(15),v=n(21),b=n(133),E=(n(221),n(241),n(3)),g=n.n(E),x=function e(){Object(i.a)(this,e),this.startDate=g()().startOf("month"),this.endDate=g()().endOf("month")},y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;Object(i.a)(this,e),this.amount=0,this.description="",this.on_date=(new Date).toISOString().split("T")[0],console.log(t,n,a),this.amount=t,this.description=n,this.on_date=new Date(a).toISOString().split("T")[0]},j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;Object(i.a)(this,e),this.amount=0,this.description="",this.on_date=(new Date).toISOString().split("T")[0],console.log(t,n,a),this.amount=t,this.description=n,this.on_date=new Date(a).toISOString().split("T")[0]},w=n(134),D=n.n(w),I=n(135),O=n.n(I)()(D.a);function N(){return O.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes!"})}function k(){return O.fire("Deleted!","Item has been deleted.","success")}function S(e,t){return O.mixin({confirmButtonText:"Next &rarr;",showCancelButton:!0,progressSteps:e}).queue(t)}var C="".concat("https://api.backendless.com/").concat("1FF6847A-E791-15A3-FFEE-DDFB60C31600","/").concat("F1C73522-DD64-3A93-FF4E-67CBDEDCDF00","/data/"),T={Ascending:" asc",Descending:" desc"};function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?"".concat(C+e,"?").concat(t):C+e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new x,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.Ascending;return"".concat(C+e,"?pageSize=100&sortBy=").concat(n+a,"&where=on_date>=").concat(t.startDate.valueOf(),"%26%26on_date<=").concat(t.endDate.valueOf())}function F(e,t){return"".concat(C+e,"/").concat(t)}var V="Expenses";function B(){return Y.apply(this,arguments)}function Y(){return(Y=Object(f.a)(h.a.mark((function e(){var t,n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:new x,n=c.length>1?c[1]:void 0,a=c.length>2&&void 0!==c[2]?c[2]:T.Ascending,r=_(V,t,n,a),e.abrupt("return",fetch(r).then((function(e){return e.json()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F(V,t),e.abrupt("return",fetch(n,{method:"delete"}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F(V,n),e.abrupt("return",fetch(a,{method:"put",body:JSON.stringify(t)}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(V),e.abrupt("return",fetch(n,{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P="Incomes";function R(){return q.apply(this,arguments)}function q(){return(q=Object(f.a)(h.a.mark((function e(){var t,n,a,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:new x,n=c.length>1?c[1]:void 0,a=c.length>2&&void 0!==c[2]?c[2]:T.Ascending,r=_(P,t,n,a),e.abrupt("return",fetch(r).then((function(e){return e.json()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F(P,t),e.abrupt("return",fetch(n,{method:"delete"}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(f.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F(P,n),e.abrupt("return",fetch(a,{method:"put",body:JSON.stringify(t)}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(P),e.abrupt("return",fetch(n,{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=n(22);n(131);var H=function(e){var t=r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",{className:"bg-danger text-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Amount"))),r.a.createElement("tbody",null,e.expenses.map((function(e,t){return r.a.createElement(G.b,{renderTag:"tr",id:"expenses-context",key:e.objectId,collect:function(){return e}},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,new Intl.DateTimeFormat("tr-TR").format(new Date(e.on_date))),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"text-danger font-weight-bold"},"-",e.amount,"TL"))})))),n=r.a.createElement(G.a,{id:"expenses-context"},r.a.createElement(G.c,{onClick:e.update},r.a.createElement("i",{className:"icon-edit mr-1"})," Edit"),r.a.createElement(G.c,{divider:!0}),r.a.createElement(G.c,{onClick:e.delete},r.a.createElement("i",{className:"icon-delete mr-1"})," Delete"));return r.a.createElement("div",null,n,t)};var Q=function(e){var t=r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",{className:"bg-success text-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Amount"))),r.a.createElement("tbody",null,e.incomes.map((function(e,t){return r.a.createElement(G.b,{renderTag:"tr",id:"incomes-context",key:e.objectId,collect:function(){return e}},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,new Intl.DateTimeFormat("tr-TR").format(new Date(e.on_date))),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"text-success font-weight-bold"},e.amount,"TL"))})))),n=r.a.createElement(G.a,{id:"incomes-context"},r.a.createElement(G.c,{onClick:e.update},r.a.createElement("i",{className:"icon-edit mr-1"})," Edit"),r.a.createElement(G.c,{divider:!0}),r.a.createElement(G.c,{onClick:e.delete},r.a.createElement("i",{className:"icon-delete mr-1"})," Delete"));return r.a.createElement("div",null,n,t)},U=(n(242),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"summaries"},r.a.createElement("div",{id:"incomes"},r.a.createElement("h4",null,"Incomes"),r.a.createElement("span",null,this.props.incomes.toFixed(2),"TL")),r.a.createElement("div",{id:"expenses"},r.a.createElement("h4",null,"Expenses"),r.a.createElement("span",null,this.props.expenses.toFixed(2),"TL")),r.a.createElement("div",{id:"balance"},r.a.createElement("h4",null,"Balance"),r.a.createElement("span",null,(this.props.incomes-this.props.expenses).toFixed(2),"TL")))}}]),t}(r.a.Component)),X=(n(243),[]),Z=[],$=0,ee=0,te=!0,ne=!0,ae=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state=new x,n.getIncomesAsync=n.getIncomesAsync.bind(Object(v.a)(n)),n.getExpensesAsync=n.getExpensesAsync.bind(Object(v.a)(n)),n.getTransactions=n.getTransactions.bind(Object(v.a)(n)),n.deleteIncome=n.deleteIncome.bind(Object(v.a)(n)),n.deleteExpense=n.deleteExpense.bind(Object(v.a)(n)),n.newIncome=n.newIncome.bind(Object(v.a)(n)),n.newExpense=n.newExpense.bind(Object(v.a)(n)),n.updateIncome=n.updateIncome.bind(Object(v.a)(n)),n.updateExpense=n.updateExpense.bind(Object(v.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getTransactions()}},{key:"getTransactions",value:function(){this.getIncomesAsync().then(te=!1),this.getExpensesAsync().then(ne=!1)}},{key:"getIncomesAsync",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$=0,R(this.state,"on_date",T.Descending).then((function(e){(X=e).forEach((function(e){return $+=e.amount})),t.setState(t.state)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getExpensesAsync",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee=0,B(this.state,"on_date",T.Descending).then((function(e){(Z=e).forEach((function(e){return ee+=e.amount})),t.setState(t.state)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteIncome",value:function(e,t){var n=this;N().then((function(e){e.value&&function(e){return z.apply(this,arguments)}(t.objectId).then((function(e){X=X.filter((function(e){return e.objectId!==t.objectId})),$-=t.amount,n.setState(n.state),k()}))}))}},{key:"deleteExpense",value:function(e,t){var n=this;N().then((function(e){e.value&&function(e){return L.apply(this,arguments)}(t.objectId).then((function(e){Z=Z.filter((function(e){return e.objectId!==t.objectId})),ee-=t.amount,n.setState(n.state),k()}))}))}},{key:"newIncome",value:function(){var e=this,t=new j;S(["1","2","3"],[{input:"text",title:"Amount",inputValidator:function(e){if(!e||isNaN(e))return"I said amount... \ud83d\ude22"}},{title:"Date",html:r.a.createElement("input",{type:"date",className:"form-control",defaultValue:t.on_date,onChange:function(e){return t.on_date=e.target.value}})},{input:"text",title:"Description"}]).then((function(n){n.value&&(t.amount=Number(n.value[0]),t.description=n.value[2],function(e){return W.apply(this,arguments)}(t).then((function(t){X.push(t),$+=t.amount,e.setState(e.state)})))}))}},{key:"newExpense",value:function(){var e=this,t=new y;S(["1","2","3"],[{input:"text",title:"Amount",inputValidator:function(e){if(!e||isNaN(e))return"I said amount... \ud83d\ude22"}},{title:"Date",html:r.a.createElement("input",{type:"date",className:"form-control",defaultValue:t.on_date,onChange:function(e){return t.on_date=e.target.value}})},{input:"text",title:"Description"}]).then((function(n){n.value&&(t.amount=Number(n.value[0]),t.description=n.value[2],function(e){return M.apply(this,arguments)}(t).then((function(t){Z.push(t),Z+=t.amount,e.setState(e.state)})))}))}},{key:"updateIncome",value:function(e,t){var n=this,a=new j(t.amount,t.description,t.on_date);S(["1","2","3"],[{input:"text",inputValue:a.amount,title:"Amount",inputValidator:function(e){if(!e||isNaN(e))return"I said amount... \ud83d\ude22"}},{title:"Date",html:r.a.createElement("input",{type:"date",className:"form-control",defaultValue:a.on_date,onChange:function(e){return a.on_date=e.target.value}})},{input:"text",inputValue:a.description,title:"Description"}]).then((function(e){e.value&&(a.amount=Number(e.value[0]),a.description=e.value[2],function(e,t){return K.apply(this,arguments)}(a,t.objectId).then((function(e){X.splice(X.findIndex((function(e){return e.objectId===t.objectId})),1,e),$+=e.amount-t.amount,n.setState(n.state)})))}))}},{key:"updateExpense",value:function(e,t){var n=this,a=new y(t.amount,t.description,t.on_date);S(["1","2","3"],[{input:"text",inputValue:a.amount,title:"Amount",inputValidator:function(e){if(!e||isNaN(e))return"I said amount... \ud83d\ude22"}},{title:"Date",html:r.a.createElement("input",{type:"date",className:"form-control",defaultValue:a.on_date,onChange:function(e){return a.on_date=e.target.value}})},{input:"text",inputValue:a.description,title:"Description"}]).then((function(e){e.value&&(a.amount=Number(e.value[0]),a.description=e.value[2],function(e,t){return J.apply(this,arguments)}(a,t.objectId).then((function(e){Z.splice(Z.findIndex((function(e){return e.objectId===t.objectId})),1,e),ee+=e.amount-t.amount,n.setState(n.state)})))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"summary-container"},r.a.createElement(b.DateRangePicker,{startDate:this.state.startDate,startDateId:"start-date-input",endDate:this.state.endDate,endDateId:"end-date-input",onDatesChange:function(t){var n=t.startDate,a=t.endDate;return e.setState({startDate:n,endDate:a})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(){return!1},renderCalendarInfo:function(){return!1},small:!1,withPortal:!0,noBorder:!0,block:!0,readOnly:!0,hideKeyboardShortcutsPanel:!0,numberOfMonths:1,firstDayOfWeek:1,displayFormat:"DD.MM.YYYY",onClose:function(){return setTimeout((function(){return e.getTransactions()}),100)}}),r.a.createElement(U,{incomes:$,expenses:ee})),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",{className:"text-success"},"Incomes"),r.a.createElement("div",{className:"d-flex ml-2"},r.a.createElement("button",{className:"btn btn-sm btn-success m-auto",onClick:this.newIncome},r.a.createElement("i",{className:"icon-add"})))),te?"Loading...":X.length>0?r.a.createElement(Q,{incomes:X,delete:this.deleteIncome,update:this.updateIncome}):"- You have no incomes. \ud83d\ude22",r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",{className:"text-danger"},"Expenses"),r.a.createElement("div",{className:"d-flex ml-2"},r.a.createElement("button",{className:"btn btn-sm btn-danger m-auto",onClick:this.newExpense},r.a.createElement("i",{className:"icon-add"})))),ne?"Loading...":Z.length>0?r.a.createElement(H,{expenses:Z,delete:this.deleteExpense,update:this.updateExpense}):"- You have no expenses! \ud83d\ude01"))}}]),t}(r.a.Component);n(244);var re=function(){return r.a.createElement("div",{id:"main",className:"container"},r.a.createElement(m,null),r.a.createElement("div",{className:"col-sm-12 col-lg-6 offset-lg-3"},r.a.createElement(ae,null)))};n(245);o.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.a94ea4ae.chunk.js.map